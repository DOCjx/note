<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>es6 test</title>
	<link rel="stylesheet" href="">
</head>
<body>
	<script>
		"use strict"
		//1.箭头操作符
		// //()=>{}是一个函数，一个参数是可以写成arg=>{}
		// var array = [1, 2, 3];
		// //传统写法
		// array.forEach(function(v, i, a) {
		//     console.log(v);
		// });
		// //ES6
		// array.forEach((v,i) => console.log(i+":"+v));
		
		//2.类的支持
		//类的定义
		// class Animal {
		// 	//ES6中新型构造器
		//     constructor(name) {
		//         this.name = name;
		//     }
		//     //实例方法
		//     sayName() {
		//         console.log('My name is '+this.name);
		//     }
		// }
		// //类的继承
		// class Programmer extends Animal {
		//     constructor(name) {
		//     	//直接调用父类构造器进行初始化
		//         super(name);
		//     }
		//     program() {
		//         console.log("I'm coding...");
		//     }
		// }
		// //测试我们的类
		// const animal=new Animal('dummy'),
		// wayou=new Programmer('wayou');
		// animal.sayName();//输出 ‘My name is dummy’
		// wayou.sayName();//输出 ‘My name is wayou’
		// wayou.program();//输出 ‘I'm coding...’
	
		//3.增强的对象字面量
		//通过对象字面量创建对象
		// var human = {
		//     breathe() {
		//         console.log('breathing...');
		//     }
		// };
		// var worker = {
		//     __proto__: human, //设置此对象的原型为human,相当于继承human
		//     company: 'freelancer',
		//     work() {
		//         console.log('working...');
		//     }
		// };
		// human.breathe();//输出 ‘breathing...’
		// //调用继承来的breathe方法
		// worker.breathe();//输出‘breathing...’
		// worker.work();
		 
		//4.字符串模板
		//产生一个随机数
		// var num=Math.floor(Math.random()*10+1);
		// //将这个数字输出到console
		// console.log(`your num is ${num}`);
		 
		//5.解构
		// function Test(){
		// 	var [x,y]=getVal(),//函数返回值的解构
		// 	[name,,age]=['wayou','male','secrect'];//数组解构

		// 	function getVal() {
		// 	    return [ 1, 2 ];
		// 	}

		// 	console.log('x:'+x+', y:'+y);//输出：x:1, y:2 
		// 	console.log('name:'+name+', age:'+age);//输出： name:wayou, age:secrect 
		// }
		// Test();
		// console.log(name);
		
		//6.默认参数值 
		// function sayHello(name){
		// 	//传统的指定默认参数的方式
		// 	var name=name||'dude';
		// 	console.log('Hello '+name);
		// }
		// //运用ES6的默认参数
		// function sayHello2(name='dude'){
		// 	console.log(`Hello ${name}`);
		// }
		// sayHello();//输出：Hello dude
		// sayHello('Wayou');//输出：Hello Wayou
		// sayHello2();//输出：Hello dude
		// sayHello2('Wayou');//输出：Hello Wayou
	
		//7.不定参数
		//将所有参数相加的函数
		// function add(...x){
		// 	console.log(arguments);
		// 	return x.reduce((m,n)=>m+n);
		// }
		// //传递任意个数的参数
		// console.log(add(1,2,3));//输出：6
		// console.log(add(1,2,3,4,5));//输出：15
	
		//8.拓展参数
		// var people=['Wayou','John','Sherlock'];
		// //sayHello函数本来接收三个单独的参数人妖，人二和人三
		// function sayHello(people1,people2,people3){
		// 	console.log(`Hello ${people1},${people2},${people3}`);
		// }
		// //但是我们将一个数组以拓展参数的形式传递，它能很好地映射到每个单独的参数
		// sayHello(...people);//输出：Hello Wayou,John,Sherlock 

		// //而在以前，如果需要传递数组当参数，我们需要使用函数的apply方法
		// sayHello.apply(null,people);//输出：Hello Wayou,John,Sherlock 
	
		//9.let与const 关键字
		// for (let i=0;i<2;i++)console.log(i);//输出: 0,1
		// console.log(i);//输出：undefined,严格模式下会报错
		
		//10.for of 值遍历
		// var someArray = [ "a", "b", "c" ];
		// for (let v of someArray) {
		//     console.log(v);//输出 a,b,c
		// }

		//11.Promises
		//创建promise
		var promise = new Promise(function(resolve, reject) {
		    // 进行一些异步或耗时操作
		    if ( 0 ) {
		        resolve("Stuff worked!");
		    } else {
		        reject(Error("It broke"));
		    }
		});
		//绑定处理程序
		promise.then(function(result) {
			//promise成功的话会执行这里
		    console.log(result); // "Stuff worked!"
		}, function(err) {
			//promise失败会执行这里
		    console.log(err); // Error: "It broke"
		});
	</script>
</body>
</html>